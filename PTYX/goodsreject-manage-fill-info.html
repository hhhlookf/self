<!DOCTYPE html>
<html ng-app="cgmall">
<head>
    <meta charset="UTF-8">
    <title>退货申请</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <link rel="stylesheet" href="assets/css/common/yang-common.min.css">
    <link rel="stylesheet" href="assets/css/goodsreject/fill-info.min.css">
    <link rel="stylesheet" href="assets/css/goodsreject/rg-detail.min.css">
    <script src="assets/js/lib/angular.min.js"></script>
    <script src="assets/js/lib/hammer.min.js"></script>
    <script src="assets/js/lib/angular-hammer.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/goodsreject/manage-fill-info.js"></script>
    <script src="assets/js/directives/natural-number.js"></script>
    <script src="assets/js/directives/positive-number.js"></script>
</head>
<body ng-cloak ng-controller="ManageFillInfoCtrl">

    <div ng-if="goodsList.length == 0">
        <div class="no-data">
            <img src="assets/images/goodsreject/no-data.png">
            <p>当前没有退货物品，请添加</p>
        </div>
    </div>

    <div ng-if="goodsList.length != 0">
        <div class="head">
            <img src="assets/images/goodsreject/head-bg.png">
            <div class="total">
                <h1>当前退货金额</h1>
                <p><em>{{totalAmount | number: 2}}</em>元</p>
            </div>
        </div>
        <div class="bill" ng-repeat="item in goodsList track by item.id">
            <div class="bill-name">{{item.goodsName}}</div>
            <div class="bill-delete" hm-tap="delete()">删除</div>
            <div class="info-list">
                <div class="info">
                    <div class="info-title">规格</div>
                    <div class="info-desc">{{item.dimension}}</div>
                </div>
                <div class="info">
                    <div class="info-title">单价</div>
                    <div class="info-desc price">&yen;{{item.avgPrice | number: 4}}</div>
                </div>
                <div class="info">
                    <div class="info-title">库存数量</div>
                    <div class="info-desc">{{item.num}}</div>
                </div>
                <div class="info">
                    <div class="info-title">最高价</div>
                    <div class="info-desc">&yen;{{item.maxPrice | number: 4}}</div>
                </div>
                <div class="info">
                    <div class="info-title">最低价</div>
                    <div class="info-desc">&yen;{{item.minPrice | number: 4}}</div>
                </div>
                <div class="info">
                    <div class="info-title">最近价</div>
                    <div class="info-desc">&yen;{{item.latelyPrice | number: 4}}</div>
                </div>
                <div class="info">
                    <div class="info-title">平均价</div>
                    <div class="info-desc">&yen;{{item.avgPrice | number: 4}}</div>
                </div>
                <div class="info">
                    <div class="info-title">退货价格</div>
                    <input type="number" class="info-desc info-desc-input" ng-model="item.rgPrice" ng-blur="inputChangeHandle($event)" positive-number>
                </div>
                <div class="info info-exist-input">
                    <div class="info-title">退货数量</div>
                    <input type="number" class="info-desc info-desc-input" ng-model="item.rgNum" ng-blur="inputChangeHandle($event)" natural-number>
                </div>
                <div class="info info-exist-input">
                    <div class="info-title">备注</div>
                    <textarea class="info-desc info-desc-textarea" ng-model="item.appendParam"></textarea>
                </div>
            </div>
        </div>

        <footer class="foot-fixed">
            <div class="btn btn-primary" hm-tap="submit()">提交</div>
        </footer>
    </div>

</body>
</html>